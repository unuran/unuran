# $Id: t_stringparser.conf 3448 2007-02-15 21:15:05Z leydold $
#############################################################################

[main]

[main - data:]

# method (for information only: the program scans the file name)
method: INFO

[main - header:]

/* prototypes */
int unur_ssr_set_pedantic( struct unur_par *par, int pedantic );

\#define COMPARE_SAMPLE_SIZE   (10000)
\#define VIOLATE_SAMPLE_SIZE   (20)

/* macros for running info test */

\#define INFO_TEST(genstr) \
   gen = unur_str2gen((genstr)); \
   fprintf(TESTLOG,"GEN  = \"%s\"\n",(genstr)); \
   fprintf(TESTLOG,"INFO = \n%s\n",unur_gen_info(gen,FALSE)); \
   fprintf(TESTLOG,"HELP = \n%s\n",unur_gen_info(gen,TRUE)); \
   fprintf(TESTLOG,"---------------------\n"); \
   unur_free(gen); gen = NULL;

\#define INFO_TEST_chg(genstr,run_chg) \
   gen = unur_str2gen((genstr)); \
   run_chg; \
   fprintf(TESTLOG,"GEN  = \"%s\"\n",(genstr)); \
   fprintf(TESTLOG,"INFO = \n%s\n",unur_gen_info(gen,FALSE)); \
   fprintf(TESTLOG,"HELP = \n%s\n",unur_gen_info(gen,TRUE)); \
   fprintf(TESTLOG,"---------------------\n"); \
   unur_free(gen); gen = NULL;

\#define METHOD(m) \
   printf("%s ",(m)); \
   fprintf(TESTLOG,"*********************\n"); \
   fprintf(TESTLOG,"* %s\n",(m)); \
   fprintf(TESTLOG,"*********************\n\n"); \
   fflush(stdout);


#############################################################################

[new]

#############################################################################

[set]

#############################################################################

[get]

#############################################################################

[chg]

#############################################################################

[init]


#############################################################################

[reinit]

#############################################################################

[sample]

[sample - set debugging flags:
   gen = NULL; ]

unur_set_default_debug(UNUR_DEBUG_INIT);

#---------------------------------------------------------------------

[sample - AROU:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("AROU");

INFO_TEST("normal & method=arou");
INFO_TEST("normal & method=arou; max_segments=10; cpoints=3");
INFO_TEST("cont; pdf='exp(-x^2)' & method=arou; max_segments=1000");
INFO_TEST("cont; pdf='exp(-x^2)' & method=arou; max_segments=1000; max_sqhratio=0.90");

\#endif

#---------------------------------------------------------------------

[sample - CSTD:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("CSTD");

INFO_TEST("normal & method=cstd");
INFO_TEST("normal & method=cstd; variant=0");
INFO_TEST("normal & method=cstd; variant=-1");
INFO_TEST("normal & method=cstd; variant=1");
INFO_TEST("normal & method=cstd; variant=2");
INFO_TEST("normal & method=cstd; variant=3");

\#endif

#---------------------------------------------------------------------

[sample - DARI:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("DARI");

INFO_TEST("geometric(0.5) & method=dari");
INFO_TEST("binomial(20,0.5) & method=dari");
INFO_TEST("binomial(20,0.5) & method=dari;squeeze=on");
INFO_TEST("binomial(20,0.5) & method=dari;tablesize=0");
INFO_TEST("binomial(20,0.5) & method=dari;cpfactor=0.6");

INFO_TEST("discr; pmf='0.5^x';domain=(0,inf) & method=dari");
INFO_TEST("discr; pmf='2*0.5^x';domain=(1,inf) & method=dari");

\#endif

#---------------------------------------------------------------------

[sample - DAU:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("DAU");

INFO_TEST("geometric(0.5) & method=dau");
INFO_TEST("geometric(0.5) & method=dau;urnfactor=2");
INFO_TEST("discr; pv=(.1,.2,.3,.4,.5,.6,.7) & method=dau");

\#endif

#---------------------------------------------------------------------

[sample - DGT:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("DGT");

INFO_TEST("geometric(0.5) & method=dgt");
INFO_TEST("geometric(0.5) & method=dgt;guidefactor=2");
INFO_TEST("discr; pv=(.1,.2,.3,.4,.5,.6,.7) & method=dgt");

\#endif

#---------------------------------------------------------------------

[sample - DSROU:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("DSROU");

INFO_TEST("geometric(0.5) & method=dsrou");
INFO_TEST("binomial(20,0.5) & method=dsrou;cdfatmode=0.5");
INFO_TEST("binomial(20,0.5) & method=dsrou");
INFO_TEST("discr; pmf='0.5^x';domain=(0,inf);pmfsum=2 & method=dsrou");
INFO_TEST("discr; pmf='2*0.5^x';domain=(1,inf);pmfsum=2 & method=dsrou");

\#endif

#---------------------------------------------------------------------

[sample - DSS:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("DSS");

INFO_TEST("geometric(0.5) & method=dss");
INFO_TEST("discr; pv=(.1,.2,.3,.4,.5,.6,.7);pmfsum=2.8 & method=dss");
INFO_TEST("discr; cdf='1-exp(-x)';pmfsum=1 & method=dss");

\#endif

#---------------------------------------------------------------------

[sample - DSTD:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("DSTD");

INFO_TEST("poisson(10) & method=dstd");
INFO_TEST("poisson(10) & method=dstd;variant=0");
INFO_TEST("poisson(10) & method=dstd;variant=2");
INFO_TEST("geometric(0.5) & method=dstd");
INFO_TEST("geometric(0.5) & method=dstd;variant=0");
INFO_TEST("geometric(0.5) & method=dstd;variant=-1");

\#endif

#---------------------------------------------------------------------

[sample - HINV:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("HINV");

INFO_TEST("normal & method=hinv");
INFO_TEST("cont; cdf='1-exp(-x)'; domain=(0,inf) & method=hinv");
INFO_TEST("cont; cdf='1-exp(-x)'; domain=(0,inf) & method=hinv; order=5");
INFO_TEST("cont; cdf='1-exp(-x)'; domain=(0,inf); mode=0 & method=hinv");
INFO_TEST("cont; cdf='1-exp(-x)'; domain=(0,inf) & method=hinv; u_resolution=1e-16");
INFO_TEST_chg("normal & method=hinv", unur_hinv_chg_truncated(gen,0.,1));

\#endif

#---------------------------------------------------------------------

[sample - HRB:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("HRB");

INFO_TEST("cont; hr='1./(1.+x)' & method=hrb");
INFO_TEST("cont; hr='1./(1.+x)' & method=hrb;upperbound=1.1");

\#endif

#---------------------------------------------------------------------

[sample - HRD:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("HRD");

INFO_TEST("cont; hr='1./(1.+x)' & method=hrd");

\#endif

#---------------------------------------------------------------------

[sample - HRI:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("HRI");

INFO_TEST("cont; hr='3*x*x' & method=hri");
INFO_TEST("cont; hr='3*x*x' & method=hri;p0=0.8");

\#endif

#---------------------------------------------------------------------

[sample - ITDR:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("ITDR");

INFO_TEST("gamma(0.5) & method=itdr");
INFO_TEST("gamma(0.5) & method=itdr; cp=-0.5; ct=-0.5");
INFO_TEST("gamma(0.5) & method=itdr; cp=-0.5; ct=-0.5; xi=0.4");
INFO_TEST("cont; pdf='exp(-x)/sqrt(x)';mode=0;domain=(0,inf) & method=itdr");

\#endif

#---------------------------------------------------------------------

[sample - NINV:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("NINV");

INFO_TEST("normal & method=ninv");
INFO_TEST("normal & method=ninv; usenewton");
INFO_TEST("cont; cdf='1-exp(-x)'; domain=(0,inf) & method=ninv");
INFO_TEST_chg("normal & method=ninv", unur_ninv_chg_truncated(gen,0.,1));
INFO_TEST("normal & method=ninv; x_resolution=1e-10");
INFO_TEST("normal & method=ninv; max_iter=100");
INFO_TEST("normal & method=ninv; start=(-1,1)");
INFO_TEST("normal & method=ninv; table=123");

\#endif

#---------------------------------------------------------------------

[sample - NROU:
   gen = NULL; ]

METHOD("NROU");

INFO_TEST("normal & method=nrou");
INFO_TEST("cont; pdf='exp(-x^2)' & method=nrou");
INFO_TEST("cont; pdf='exp(-x^2)' & method=nrou; r=2");
INFO_TEST("cont; pdf='exp(-x^2)' & method=nrou; v=1");
INFO_TEST("cont; pdf='exp(-x^2)' & method=nrou; u=(-0.61, 0.61)");
INFO_TEST("cont; pdf='exp(-x^2)' & method=nrou; v=1; u=(-0.61, 0.61)");

#---------------------------------------------------------------------

[sample - SROU:
   gen = NULL; ]

METHOD("SROU");

INFO_TEST("normal & method=srou");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=srou");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=srou; usemirror");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=srou; cdfatmode=0.5; usesqueeze");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=srou; r=2");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=srou; r=2; cdfatmode=0.5");

#---------------------------------------------------------------------

[sample - SSR:
   gen = NULL; ]

METHOD("SSR");

INFO_TEST("normal & method=ssr");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=ssr");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=ssr; cdfatmode=0.5; usesqueeze");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=ssr; r=2");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=ssr; r=2; cdfatmode=0.5");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=ssr");
INFO_TEST("cont; pdf='exp(-x^2)';domain=(0,inf);pdfarea=0.887 & method=ssr");

#---------------------------------------------------------------------

[sample - TABL:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("TABL");

INFO_TEST("normal & method=tabl");
INFO_TEST("normal & method=tabl;variant_ia=off;max_intervals=50");
INFO_TEST("cont; pdf='exp(-x^2)';mode=0 & method=tabl");
INFO_TEST("cont; pdf='exp(-x^2)';mode=0  & method=tabl; max_intervals=100; max_sqhratio=0.99");
INFO_TEST_chg("normal & method=tabl", unur_tabl_chg_truncated(gen,0.,1));

\#endif

#---------------------------------------------------------------------

[sample - TDR:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("TDR");

INFO_TEST("normal & method=tdr");
INFO_TEST("normal & method=tdr; max_intervals=10; cpoints=3");
INFO_TEST("cont; pdf='exp(-x^2)' & method=tdr");
INFO_TEST("cont; pdf='exp(-x^2)' & method=tdr; c=0");
INFO_TEST("cont; pdf='exp(-x^2)' & method=tdr; c=0; variant_ia");
INFO_TEST("cont; pdf='exp(-x^2)' & method=tdr; c=0; variant_ia; max_intervals=1000");
INFO_TEST("cont; pdf='exp(-x^2)' & method=tdr; c=0; variant_ia; max_intervals=1000; max_sqhratio=0.90");
INFO_TEST_chg("normal & method=tdr", unur_tdr_chg_truncated(gen,0.,1));

\#endif

#---------------------------------------------------------------------

[sample - TDRGW:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("TDRGW");

INFO_TEST("normal & method=tdrgw");
INFO_TEST("normal & method=tdrgw; cpoints=100");
INFO_TEST("cont; logpdf='exp(-x^2)' & method=tdrgw");

\#endif

#---------------------------------------------------------------------

[sample - UNIF:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("UNIF");

INFO_TEST("uniform(0,1) & method=unif");

\#endif

#---------------------------------------------------------------------

[sample - UTDR:
   gen = NULL; ]

\#ifdef UNUR_ENABLE_INFO

METHOD("UTDR");

INFO_TEST("normal & method=utdr");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=utdr");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=utdr;pdfatmode=1.0");
INFO_TEST("cont; pdf='exp(-x^2)';pdfarea=1.773 & method=utdr;deltafactor=1e-8");

\#endif

#---------------------------------------------------------------------


#############################################################################

[validate]

#############################################################################
#############################################################################

[verbatim]

#############################################################################

